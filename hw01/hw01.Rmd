---
title: "Домашнее задание № 1"
author: "Латников Вячеслав"
date: "2024-10-18"
output: pdf_document
---
**Работа с данными.**

* Загрузите данные в датафрейм, который назовите data.df.Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.

```{r}
data.df <- read.table("http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat")
dim(data.df)
```
* Получите имена колонок из data.df.
```{r}
names(data.df)
```
* Найдите значение из 5 строки седьмого столбца.
```{r}
data.df[5, 7]
```
* Напечатайте целиком 2 строку из data.df
```{r}
data.df[2, ]
```
* Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?
```{r}
names(data.df) <- c("year", "month", "day", seq(0, 23))
head(data.df)
tail(data.df)
```
Строка кода names(data.df) <- c("year", "month", "day", seq(0,23)) присваивает имена колонкам. Первые три колонки называются "year" (год), "month" (месяц) и "day" (день), а оставшиеся 24 колонки представляют собой количество осадков за каждый час суток (от 0 до 23 часов).

* Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?
```{r}
data.df$daily <- rowSums(data.df[, 4:27])
hist(data.df$daily, main="Гистограмма суточных осадков", xlab="Осадки (мм)")
```

На гистограмме видно значительное количество отрицательных значений вплоть до -25000 мм, что физически невозможно.

* Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.
```{r}
fixed.df <- data.df

fixed.df$daily <- rowSums(fixed.df[, 4:27])
fixed.df$daily[fixed.df$daily < 0] <- 0

hist(fixed.df$daily, main="Гистограмма исправленных суточных осадков", xlab="Осадки (мм)")
```

В данном случае мы заменяем отрицательные значения осадков на 0, что даёт нам более правильную картину.

**Синтаксис и типизирование**

* Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна
```{r}
v <- c("4", "8", "15", "16", "23", "42")
max(v)
sort(v)
```
Данный вектор содержит строковые данные, а не числовые. max(v) выведет 8, так как она больше в алфавитном порядке. По такому же принципу сработает sort(v). sum(v) выведет ошибку, тк не сможет сложить строковые значения.

* Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.

v2 <- c("5",7,12)
v2[2] + 2[3]

Здесь создается вектор v2, который содержит смесь типов данных: строку "5" и числа 7 и 12. Все числа буду преобразваны в строки. Корректный синтаксис для обращения к элементам вектора: v2[2] + v2[3], но нужно, чтобы они были числами.

```{r}
df3 <- data.frame(z1="5",z2=7,z3=12)
df3[1,2] + df3[1,3]
```
Здесь происходит обращение к элементам датафрейма: df3[1,2] — это значение в первой строке второго столбца (7), а df3[1,3] — значение в первой строке третьего столбца (12). Оба значения — числовые, поэтому их сложение возвращает 19.
```{r}
l4 <- list(z1="6", z2=42, z3="49", z4=126)
l4[[2]] + l4[[4]]
```
l4[2] + l4[4] выведет ошибку, тк здесь возвращаются списки, а не сами значения. Операция сложения между списками невозможна. 
l4[[2]] — это доступ к элементу списка по индексу 2 (значение 42), а l4[[4]] — элемент с индексом 4 (значение 126). Оба значения — числа, поэтому их сложение возвращает 168.

**Работа с функциями и операторами**

*Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран:
Числа от 1 до 10000 с инкрементом 372.
Числа от 1 до 10000 длиной 50.

```{r}
# Числа от 1 до 10000 с шагом 372
seq(from = 1, to = 10000, by = 372)
# Числа от 1 до 10000 длиной 50
seq(from = 1, to = 10000, length.out = 50)
```

*Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).
```{r}
rep(1:5, times = 3)
rep(1:5, each = 3)
```
times=3 повторяет весь вектор три раза.
each=3 повторяет каждый элемент вектора три раза, прежде чем перейти к следующему элементу.
